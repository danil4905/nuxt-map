<template>
  <svg width="85%" height="100%" viewBox="0 0 901 931" fill="none" xmlns="http://www.w3.org/2000/svg"
       v-if="places">
    <path d="M365.157 591.896V606.857H362.204V595.301L358.656 596.429V594.101L364.839 591.896H365.157Z"
          fill="#FABE00"/>
    <path
      d="M26.0605 482.449V484.756H15.8477V482.788L20.6772 477.609C21.1626 477.069 21.5454 476.594 21.8257 476.184C22.106 475.767 22.3076 475.395 22.4307 475.066C22.5605 474.731 22.6255 474.414 22.6255 474.113C22.6255 473.662 22.5503 473.275 22.3999 472.954C22.2495 472.626 22.0273 472.373 21.7334 472.195C21.4463 472.018 21.0908 471.929 20.667 471.929C20.2158 471.929 19.8262 472.038 19.498 472.257C19.1768 472.476 18.9307 472.78 18.7598 473.169C18.5957 473.559 18.5137 474 18.5137 474.492H15.5503C15.5503 473.604 15.7622 472.79 16.186 472.052C16.6099 471.307 17.208 470.715 17.9805 470.278C18.7529 469.833 19.6689 469.611 20.7285 469.611C21.7744 469.611 22.6562 469.782 23.374 470.124C24.0986 470.459 24.6455 470.944 25.0146 471.58C25.3906 472.209 25.5786 472.961 25.5786 473.836C25.5786 474.328 25.5 474.81 25.3428 475.282C25.1855 475.747 24.96 476.211 24.666 476.676C24.3789 477.134 24.0303 477.599 23.6201 478.071C23.21 478.542 22.7554 479.031 22.2563 479.537L19.6621 482.449H26.0605Z"
      fill="#FABE00"/>
    <path
      d="M18.8726 374.643H20.4517C20.9575 374.643 21.3745 374.558 21.7026 374.387C22.0308 374.209 22.2734 373.963 22.4307 373.649C22.5947 373.327 22.6768 372.955 22.6768 372.531C22.6768 372.148 22.6016 371.81 22.4512 371.516C22.3076 371.215 22.0854 370.983 21.7847 370.819C21.4839 370.648 21.1045 370.562 20.6465 370.562C20.2842 370.562 19.9492 370.634 19.6416 370.778C19.334 370.921 19.0879 371.123 18.9033 371.383C18.7188 371.642 18.6265 371.957 18.6265 372.326H15.6631C15.6631 371.506 15.8818 370.791 16.3193 370.183C16.7637 369.574 17.3584 369.099 18.1035 368.758C18.8486 368.416 19.6689 368.245 20.5645 368.245C21.5762 368.245 22.4614 368.409 23.2202 368.737C23.979 369.058 24.5703 369.533 24.9941 370.162C25.418 370.791 25.6299 371.571 25.6299 372.5C25.6299 372.972 25.5205 373.43 25.3018 373.874C25.083 374.312 24.7686 374.708 24.3584 375.064C23.9551 375.412 23.4629 375.693 22.8818 375.905C22.3008 376.11 21.6479 376.212 20.9233 376.212H18.8726V374.643ZM18.8726 376.889V375.361H20.9233C21.7368 375.361 22.4512 375.453 23.0664 375.638C23.6816 375.823 24.1978 376.089 24.6147 376.438C25.0317 376.78 25.3462 377.186 25.5581 377.658C25.77 378.123 25.876 378.639 25.876 379.206C25.876 379.904 25.7427 380.526 25.4761 381.073C25.2095 381.613 24.8335 382.071 24.3481 382.447C23.8696 382.823 23.3091 383.11 22.6665 383.308C22.0239 383.499 21.3232 383.595 20.5645 383.595C19.9355 383.595 19.3169 383.51 18.7085 383.339C18.1069 383.161 17.5601 382.898 17.0679 382.549C16.5825 382.194 16.1929 381.749 15.8989 381.216C15.6118 380.676 15.4683 380.037 15.4683 379.299H18.4316C18.4316 379.681 18.5273 380.023 18.7188 380.324C18.9102 380.625 19.1733 380.861 19.5083 381.031C19.8501 381.202 20.2295 381.288 20.6465 381.288C21.1182 381.288 21.5215 381.202 21.8564 381.031C22.1982 380.854 22.458 380.608 22.6357 380.293C22.8203 379.972 22.9126 379.599 22.9126 379.176C22.9126 378.629 22.8135 378.191 22.6152 377.863C22.417 377.528 22.1333 377.282 21.7642 377.125C21.395 376.968 20.9575 376.889 20.4517 376.889H18.8726Z"
      fill="#FABE00"/>
    <path
      d="M142.125 177.67H143.704C144.209 177.67 144.626 177.585 144.955 177.414C145.283 177.236 145.525 176.99 145.683 176.675C145.847 176.354 145.929 175.982 145.929 175.558C145.929 175.175 145.854 174.837 145.703 174.543C145.56 174.242 145.337 174.009 145.037 173.845C144.736 173.674 144.356 173.589 143.898 173.589C143.536 173.589 143.201 173.661 142.894 173.804C142.586 173.948 142.34 174.15 142.155 174.409C141.971 174.669 141.878 174.984 141.878 175.353H138.915C138.915 174.532 139.134 173.818 139.571 173.21C140.016 172.601 140.61 172.126 141.355 171.784C142.101 171.443 142.921 171.272 143.816 171.272C144.828 171.272 145.713 171.436 146.472 171.764C147.231 172.085 147.822 172.56 148.246 173.189C148.67 173.818 148.882 174.597 148.882 175.527C148.882 175.999 148.772 176.457 148.554 176.901C148.335 177.339 148.021 177.735 147.61 178.09C147.207 178.439 146.715 178.719 146.134 178.931C145.553 179.136 144.9 179.239 144.175 179.239H142.125V177.67ZM142.125 179.916V178.388H144.175C144.989 178.388 145.703 178.48 146.318 178.665C146.934 178.849 147.45 179.116 147.867 179.464C148.284 179.806 148.598 180.213 148.81 180.685C149.022 181.15 149.128 181.666 149.128 182.233C149.128 182.93 148.995 183.552 148.728 184.099C148.461 184.639 148.085 185.097 147.6 185.473C147.122 185.849 146.561 186.136 145.918 186.335C145.276 186.526 144.575 186.622 143.816 186.622C143.188 186.622 142.569 186.536 141.96 186.365C141.359 186.188 140.812 185.924 140.32 185.576C139.834 185.22 139.445 184.776 139.151 184.243C138.864 183.703 138.72 183.064 138.72 182.325H141.684C141.684 182.708 141.779 183.05 141.971 183.351C142.162 183.651 142.425 183.887 142.76 184.058C143.102 184.229 143.481 184.315 143.898 184.315C144.37 184.315 144.773 184.229 145.108 184.058C145.45 183.88 145.71 183.634 145.888 183.32C146.072 182.999 146.165 182.626 146.165 182.202C146.165 181.655 146.065 181.218 145.867 180.89C145.669 180.555 145.385 180.309 145.016 180.151C144.647 179.994 144.209 179.916 143.704 179.916H142.125ZM151.425 184.991C151.425 184.554 151.575 184.188 151.876 183.894C152.184 183.6 152.59 183.453 153.096 183.453C153.602 183.453 154.005 183.6 154.306 183.894C154.614 184.188 154.768 184.554 154.768 184.991C154.768 185.429 154.614 185.795 154.306 186.089C154.005 186.382 153.602 186.529 153.096 186.529C152.59 186.529 152.184 186.382 151.876 186.089C151.575 185.795 151.425 185.429 151.425 184.991ZM164.447 171.456V186.417H161.494V174.86L157.946 175.988V173.661L164.129 171.456H164.447Z"
      fill="#FABE00"/>
    <path
      d="M142.125 25.6204H143.704C144.209 25.6204 144.626 25.535 144.955 25.3641C145.283 25.1863 145.525 24.9402 145.683 24.6258C145.847 24.3045 145.929 23.9319 145.929 23.5081C145.929 23.1253 145.854 22.7869 145.703 22.493C145.56 22.1922 145.337 21.9598 145.037 21.7957C144.736 21.6248 144.356 21.5394 143.898 21.5394C143.536 21.5394 143.201 21.6111 142.894 21.7547C142.586 21.8983 142.34 22.0999 142.155 22.3597C141.971 22.6194 141.878 22.9339 141.878 23.303H138.915C138.915 22.4827 139.134 21.7684 139.571 21.16C140.016 20.5516 140.61 20.0765 141.355 19.7347C142.101 19.3929 142.921 19.222 143.816 19.222C144.828 19.222 145.713 19.386 146.472 19.7142C147.231 20.0355 147.822 20.5106 148.246 21.1395C148.67 21.7684 148.882 22.5477 148.882 23.4774C148.882 23.949 148.772 24.407 148.554 24.8514C148.335 25.2889 148.021 25.6854 147.61 26.0408C147.207 26.3895 146.715 26.6697 146.134 26.8817C145.553 27.0867 144.9 27.1893 144.175 27.1893H142.125V25.6204ZM142.125 27.866V26.3382H144.175C144.989 26.3382 145.703 26.4305 146.318 26.6151C146.934 26.7996 147.45 27.0662 147.867 27.4149C148.284 27.7567 148.598 28.1634 148.81 28.6351C149.022 29.0999 149.128 29.616 149.128 30.1834C149.128 30.8807 148.995 31.5027 148.728 32.0496C148.461 32.5897 148.085 33.0477 147.6 33.4236C147.122 33.7996 146.561 34.0867 145.918 34.285C145.276 34.4764 144.575 34.5721 143.816 34.5721C143.188 34.5721 142.569 34.4866 141.96 34.3157C141.359 34.138 140.812 33.8748 140.32 33.5262C139.834 33.1707 139.445 32.7264 139.151 32.1932C138.864 31.6531 138.72 31.014 138.72 30.2757H141.684C141.684 30.6585 141.779 31.0003 141.971 31.3011C142.162 31.6019 142.425 31.8377 142.76 32.0086C143.102 32.1795 143.481 32.265 143.898 32.265C144.37 32.265 144.773 32.1795 145.108 32.0086C145.45 31.8309 145.71 31.5848 145.888 31.2703C146.072 30.949 146.165 30.5765 146.165 30.1526C146.165 29.6058 146.065 29.1683 145.867 28.8401C145.669 28.5052 145.385 28.2591 145.016 28.1019C144.647 27.9446 144.209 27.866 143.704 27.866H142.125ZM151.425 32.9417C151.425 32.5042 151.575 32.1385 151.876 31.8445C152.184 31.5506 152.59 31.4036 153.096 31.4036C153.602 31.4036 154.005 31.5506 154.306 31.8445C154.614 32.1385 154.768 32.5042 154.768 32.9417C154.768 33.3792 154.614 33.7449 154.306 34.0389C154.005 34.3328 153.602 34.4798 153.096 34.4798C152.59 34.4798 152.184 34.3328 151.876 34.0389C151.575 33.7449 151.425 33.3792 151.425 32.9417ZM167.462 32.0599V34.367H157.249V32.3983L162.079 27.22C162.564 26.68 162.947 26.2049 163.227 25.7947C163.507 25.3777 163.709 25.0052 163.832 24.6771C163.962 24.3421 164.027 24.0242 164.027 23.7234C164.027 23.2723 163.952 22.886 163.801 22.5648C163.651 22.2366 163.429 21.9837 163.135 21.806C162.848 21.6282 162.492 21.5394 162.068 21.5394C161.617 21.5394 161.228 21.6487 160.899 21.8675C160.578 22.0862 160.332 22.3904 160.161 22.7801C159.997 23.1697 159.915 23.6107 159.915 24.1028H156.952C156.952 23.2142 157.164 22.4007 157.587 21.6624C158.011 20.9173 158.609 20.326 159.382 19.8885C160.154 19.4442 161.07 19.222 162.13 19.222C163.176 19.222 164.058 19.3929 164.775 19.7347C165.5 20.0696 166.047 20.555 166.416 21.1907C166.792 21.8196 166.98 22.5716 166.98 23.4466C166.98 23.9388 166.901 24.4207 166.744 24.8924C166.587 25.3572 166.361 25.8221 166.067 26.2869C165.78 26.7449 165.432 27.2098 165.021 27.6815C164.611 28.1531 164.157 28.6419 163.658 29.1478L161.063 32.0599H167.462Z"
      fill="#FABE00"/>
    <path
      d="M443.291 28.7889V31.1063H432.535L432.391 29.3118L438.615 19.4373H440.963L438.42 23.6927L435.324 28.7889H443.291ZM441.599 19.4373V34.367H438.646V19.4373H441.599Z"
      fill="#FABE00"/>
    <path
      d="M665.99 27.5687L663.631 27.0047L664.482 19.4373H672.87V21.8265H666.913L666.543 25.1385C666.742 25.0223 667.042 24.8992 667.446 24.7693C667.849 24.6326 668.3 24.5643 668.799 24.5643C669.524 24.5643 670.167 24.6771 670.727 24.9026C671.288 25.1282 671.763 25.4564 672.152 25.887C672.549 26.3177 672.85 26.8441 673.055 27.4661C673.26 28.0882 673.362 28.7923 673.362 29.5784C673.362 30.2415 673.26 30.8738 673.055 31.4754C672.85 32.0701 672.539 32.6033 672.122 33.075C671.705 33.5399 671.182 33.9056 670.553 34.1722C669.924 34.4388 669.179 34.5721 668.317 34.5721C667.675 34.5721 667.053 34.4764 666.451 34.285C665.856 34.0936 665.32 33.8099 664.841 33.4339C664.37 33.0579 663.99 32.6033 663.703 32.0701C663.423 31.5301 663.276 30.9149 663.262 30.2244H666.195C666.236 30.6483 666.345 31.014 666.523 31.3216C666.708 31.6224 666.95 31.8548 667.251 32.0189C667.552 32.1829 667.904 32.265 668.307 32.265C668.683 32.265 669.004 32.1932 669.271 32.0496C669.538 31.9061 669.753 31.7078 669.917 31.4549C670.081 31.1951 670.201 30.8943 670.276 30.5526C670.358 30.2039 670.399 29.8279 670.399 29.4246C670.399 29.0213 670.351 28.6556 670.255 28.3275C670.16 27.9993 670.013 27.7156 669.814 27.4764C669.616 27.2371 669.363 27.0526 669.056 26.9227C668.755 26.7928 668.403 26.7278 668 26.7278C667.453 26.7278 667.029 26.8133 666.728 26.9842C666.434 27.1551 666.188 27.3499 665.99 27.5687Z"
      fill="#FABE00"/>
    <rect x="844.186" y="526.262" width="27.6454" height="27.6454" rx="8" fill="#E62D32"/>
    <path d="M852.963 532.022L852.963 539.076L852.963 548.833" stroke="white"/>
    <path d="M863.051 532.022L863.051 539.076L863.051 548.833" stroke="white"/>
    <path d="M858.193 532.022L858.193 541.361" stroke="white"/>
    <path
      d="M854.332 532.022V537.626H855.332V532.022H854.332ZM851.596 537.626V532.022H850.596V537.626H851.596ZM852.964 538.993C852.208 538.993 851.596 538.381 851.596 537.626H850.596C850.596 538.933 851.656 539.993 852.964 539.993V538.993ZM854.332 537.626C854.332 538.381 853.719 538.993 852.964 538.993V539.993C854.271 539.993 855.332 538.933 855.332 537.626H854.332Z"
      fill="white"/>
    <path
      d="M864.419 534.263V537.625H865.419V534.263H864.419ZM863.551 539.493V532.395H862.551V539.493H863.551ZM864.419 537.625C864.419 538.381 863.806 538.993 863.051 538.993V539.993C864.359 539.993 865.419 538.933 865.419 537.625H864.419ZM865.419 534.263C865.419 532.955 864.359 531.895 863.051 531.895V532.895C863.806 532.895 864.419 533.508 864.419 534.263H865.419Z"
      fill="white"/>
    <rect x="856.326" y="541.361" width="3.73586" height="7.47172" rx="1.86793" stroke="white"/>
    <rect x="637.996" y="526.262" width="27.6454" height="27.6454" rx="8" fill="#FABE00"/>
    <rect x="644.254" y="537.033" width="15.1265" height="7.39921" stroke="#233255"/>
    <path d="M647.113 537.037V535.302L649.242 533.174H656.536V537.037" stroke="#233255"
          stroke-miterlimit="10"/>
    <path d="M649.129 546.276H654.504" stroke="#233255" stroke-miterlimit="10"/>
    <path d="M656.536 544.429V548.292H647.113L647.113 544.429" stroke="#233255" stroke-miterlimit="10"/>
    <path d="M656.529 548.292H655.021L656.548 546.765L656.529 548.292Z" fill="#233255"/>
    <path d="M656.364 538.885L655.176 540.073L656.364 541.261L657.551 540.073L656.364 538.885Z"
          fill="#233255"/>
    <path d="M55.1387 336.589V330.469H62.1106V324.044H68.2954V317.313H74.7208" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M55.1387 321.352L62.176 314.314M62.176 314.314V319.516M62.176 314.314H56.9745"
          stroke="#CCCCCC" stroke-width="2"/>
    <path d="M881.045 425.285V419.165H888.017V412.74H894.202V406.008H900.627" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M881.045 410.047L888.082 403.01M888.082 403.01V408.212M888.082 403.01H882.881"
          stroke="#CCCCCC" stroke-width="2"/>
    <path d="M127.133 154.201H206.037M416.833 154.201H256.721M416.833 300.492V1" stroke="#CCCCCC"
          stroke-width="2"/>
    <path
      d="M340.808 573.49H426.623M278.605 154.202V231.715V154.202ZM278.605 305.148V277.756V305.148ZM551.028 350.023H564.274H551.028ZM891.411 351.175H806.747H891.411ZM616.685 351.175H647.211H616.685ZM754.048 351.175H647.211H754.048ZM647.211 2.15192V114.461V2.15192ZM647.211 351.175V147.29V351.175ZM657.002 573.49H479.034H657.002Z"
      stroke="#CCCCCC" stroke-width="2"/>
    <path
      d="M889.684 430.511V573.49H655.274V930H1.57617V350.023H95.3113H126.556V1.57593H889.684V287.533V359.022V394.767"
      stroke="#CCCCCC" stroke-width="2"/>
    <path d="M340.809 531.446V929.424" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M340.809 351.175V379.396M340.809 483.066V424.896V483.066Z" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M127.707 350.023H221.586" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M271.695 350.023H278.607" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M278.605 350.023V300.492H551.028V350.023H278.605Z" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M343.112 447.934H189.334M1 447.934H160.537H1Z" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M185.303 117.341H155.354V154.202H185.303V117.341Z" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M662.185 115.037H632.236V146.138H662.185V115.037Z" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M670.248 427.2H640.299V458.301H670.248V427.2Z" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M189.91 438.719H159.961V476.731H189.91V438.719Z" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M194.518 763.552H164.568V801.564H194.518V763.552Z" stroke="#CCCCCC" stroke-width="2"/>
    <g v-for="place in places" :key="place.id" :transform="place.coords + 'rotate(-18)'"
       :data="place.id">
      <circle cx="0" cy="0" r="2" fill="rgb(33, 37, 41)" :class="{'takenPlace': !place.userId}"></circle>
      <text x="0" y="0" dx="4" dy="3.5" :data="place.id" :name="`${place.User?place.User.lastName + ' ' + place.User.firstName:''}`" :class="['place', {'takenPlace': !place.userId}]">{{ !place.userId ? 'Свободно ' : `${place.User.lastName} ${place.User.firstName[0]}` }}</text>
    </g>
  </svg>
</template>

<script>
export default {
  name: "PeterBurgMap",
  data() {
    return {
      places: []
    }
  },
  methods: {
    async getPlaces() {
      this.places = await this.$store.dispatch('places/getPlaceByComponent',{city:'Saint Petersburg', floor:3});
    }
  },
  mounted() {
    this.getPlaces()
  }
}
</script>

<style scoped>

</style>
