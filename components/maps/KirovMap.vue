<template>
  <svg width="100%" height="720" viewBox="0 0 875 720" fill="none" xmlns="http://www.w3.org/2000/svg"
       v-if="places">
    <path
      d="M1.81885 672.018C1.81885 672.018 125.121 727.853 317.751 717.267C510.381 706.682 620.654 598.735 620.654 598.735"
      stroke="#CCCCCC" stroke-width="2"/>
    <path
      d="M775.265 157.919C775.265 157.919 880.126 162.469 873.718 276.568C867.31 390.668 690.21 552.252 690.21 552.252"
      stroke="#CCCCCC" stroke-width="2"/>
    <path d="M1 672.064V327.749" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M319.723 574.935V716.848" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M318.56 527.242V503.978H1" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M318.56 506.304V427.787" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M318.56 373.697V327.749" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M476.177 324.841V408.012M476.177 466.755V499.907H689.629" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M476.177 499.325V527.242" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M476.177 568.537V596.454" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M455.821 595.872H689.629V1.4649H478.504V157.919H515.145" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M775.707 157.919H689.629" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M563.419 157.919H688.466" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M476.177 276.567L525.614 225.967H689.629" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M476.177 326.004H689.629" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M319.142 596.454H405.221" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M256.328 1.4649H478.503" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M256.328 55.5548H261.562" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M288.898 55.5548H320.887" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M320.305 1.4649V61.9526" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M320.886 146.286V161.408H372.65V2.04651" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M320.886 123.603V89.2883" stroke="#CCCCCC" stroke-width="2"/>
    <path d="M321.468 98.0125H372.65" stroke="#CCCCCC" stroke-width="2"/>
    <path
      d="M319.723 327.749H1.58154V228.875C4.68347 201.346 21.24 135.236 62.6508 91.0331C114.414 35.78 198.748 -3.76966 256.909 1.46485V240.507L279.592 263.772H319.723"
      stroke="#CCCCCC" stroke-width="2"/>
    <path
      d="M300.382 531.287V533.604H289.626L289.482 531.81L295.707 521.935H298.055L295.512 526.191L292.415 531.287H300.382ZM298.69 521.935V536.865H295.737V521.935H298.69Z"
      fill="#FABE00"/>
    <path
      d="M549.775 621.961L547.417 621.397L548.268 613.83H556.655V616.219H550.698L550.329 619.531C550.527 619.415 550.828 619.292 551.231 619.162C551.634 619.025 552.085 618.957 552.584 618.957C553.309 618.957 553.952 619.07 554.512 619.295C555.073 619.521 555.548 619.849 555.938 620.28C556.334 620.71 556.635 621.237 556.84 621.859C557.045 622.481 557.147 623.185 557.147 623.971C557.147 624.634 557.045 625.267 556.84 625.868C556.635 626.463 556.324 626.996 555.907 627.468C555.49 627.933 554.967 628.298 554.338 628.565C553.709 628.832 552.964 628.965 552.103 628.965C551.46 628.965 550.838 628.869 550.236 628.678C549.642 628.486 549.105 628.203 548.626 627.827C548.155 627.451 547.775 626.996 547.488 626.463C547.208 625.923 547.061 625.308 547.047 624.617H549.98C550.021 625.041 550.13 625.407 550.308 625.714C550.493 626.015 550.735 626.248 551.036 626.412C551.337 626.576 551.689 626.658 552.092 626.658C552.468 626.658 552.79 626.586 553.056 626.442C553.323 626.299 553.538 626.101 553.702 625.848C553.866 625.588 553.986 625.287 554.061 624.945C554.143 624.597 554.184 624.221 554.184 623.817C554.184 623.414 554.136 623.048 554.041 622.72C553.945 622.392 553.798 622.108 553.6 621.869C553.401 621.63 553.148 621.445 552.841 621.315C552.54 621.186 552.188 621.121 551.785 621.121C551.238 621.121 550.814 621.206 550.513 621.377C550.219 621.548 549.973 621.743 549.775 621.961Z"
      fill="#FABE00"/>
    <path
      d="M292.948 351.309H294.527C295.033 351.309 295.45 351.223 295.778 351.052C296.106 350.875 296.349 350.628 296.506 350.314C296.67 349.993 296.752 349.62 296.752 349.196C296.752 348.813 296.677 348.475 296.527 348.181C296.383 347.88 296.161 347.648 295.86 347.484C295.56 347.313 295.18 347.228 294.722 347.228C294.36 347.228 294.025 347.299 293.717 347.443C293.41 347.586 293.164 347.788 292.979 348.048C292.794 348.308 292.702 348.622 292.702 348.991H289.739C289.739 348.171 289.958 347.457 290.395 346.848C290.839 346.24 291.434 345.765 292.179 345.423C292.924 345.081 293.745 344.91 294.64 344.91C295.652 344.91 296.537 345.074 297.296 345.402C298.055 345.724 298.646 346.199 299.07 346.828C299.494 347.457 299.706 348.236 299.706 349.166C299.706 349.637 299.596 350.095 299.377 350.54C299.159 350.977 298.844 351.374 298.434 351.729C298.031 352.078 297.539 352.358 296.958 352.57C296.376 352.775 295.724 352.877 294.999 352.877H292.948V351.309ZM292.948 353.554V352.026H294.999C295.812 352.026 296.527 352.119 297.142 352.303C297.757 352.488 298.273 352.754 298.69 353.103C299.107 353.445 299.422 353.852 299.634 354.323C299.846 354.788 299.952 355.304 299.952 355.872C299.952 356.569 299.818 357.191 299.552 357.738C299.285 358.278 298.909 358.736 298.424 359.112C297.945 359.488 297.385 359.775 296.742 359.973C296.1 360.165 295.399 360.26 294.64 360.26C294.011 360.26 293.393 360.175 292.784 360.004C292.183 359.826 291.636 359.563 291.144 359.214C290.658 358.859 290.269 358.415 289.975 357.881C289.688 357.341 289.544 356.702 289.544 355.964H292.507C292.507 356.347 292.603 356.688 292.794 356.989C292.986 357.29 293.249 357.526 293.584 357.697C293.926 357.868 294.305 357.953 294.722 357.953C295.194 357.953 295.597 357.868 295.932 357.697C296.274 357.519 296.534 357.273 296.711 356.958C296.896 356.637 296.988 356.265 296.988 355.841C296.988 355.294 296.889 354.856 296.691 354.528C296.493 354.193 296.209 353.947 295.84 353.79C295.471 353.633 295.033 353.554 294.527 353.554H292.948Z"
      fill="#FABE00"/>
    <path
      d="M238.485 32.0452V34.3523H228.272V32.3835L233.102 27.2053C233.587 26.6653 233.97 26.1902 234.25 25.78C234.531 25.363 234.732 24.9905 234.855 24.6624C234.985 24.3274 235.05 24.0095 235.05 23.7087C235.05 23.2576 234.975 22.8713 234.825 22.55C234.674 22.2219 234.452 21.969 234.158 21.7913C233.871 21.6135 233.516 21.5247 233.092 21.5247C232.641 21.5247 232.251 21.634 231.923 21.8528C231.602 22.0715 231.355 22.3757 231.185 22.7654C231.021 23.155 230.938 23.5959 230.938 24.0881H227.975C227.975 23.1995 228.187 22.386 228.611 21.6477C229.035 20.9026 229.633 20.3113 230.405 19.8738C231.178 19.4294 232.094 19.2073 233.153 19.2073C234.199 19.2073 235.081 19.3782 235.799 19.72C236.523 20.0549 237.07 20.5403 237.439 21.176C237.815 21.8049 238.003 22.5569 238.003 23.4319C238.003 23.9241 237.925 24.406 237.768 24.8777C237.61 25.3425 237.385 25.8074 237.091 26.2722C236.804 26.7302 236.455 27.1951 236.045 27.6667C235.635 28.1384 235.18 28.6272 234.681 29.1331L232.087 32.0452H238.485Z"
      fill="#FABE00"/>
    <path d="M669.354 19.3918V34.3523H666.4V22.7961L662.853 23.9241V21.5964L669.036 19.3918H669.354Z"
          fill="#FABE00"/>
    <path d="M672.296 243.925V245.514L666.523 258.854H663.406L669.179 246.232H661.745V243.925H672.296Z"
          fill="#FABE00"/>
    <path
      d="M714.09 187.296C714.09 188.233 713.872 189.022 713.434 189.665C712.997 190.301 712.395 190.783 711.629 191.111C710.871 191.432 710.009 191.593 709.045 191.593C708.082 191.593 707.217 191.432 706.451 191.111C705.686 190.783 705.081 190.301 704.636 189.665C704.192 189.022 703.97 188.233 703.97 187.296C703.97 186.667 704.096 186.1 704.349 185.594C704.602 185.081 704.954 184.644 705.405 184.282C705.863 183.912 706.4 183.632 707.015 183.441C707.63 183.243 708.3 183.143 709.025 183.143C709.996 183.143 710.864 183.314 711.629 183.656C712.395 183.998 712.997 184.48 713.434 185.102C713.872 185.724 714.09 186.455 714.09 187.296ZM711.117 187.101C711.117 186.643 711.028 186.25 710.85 185.922C710.679 185.587 710.437 185.331 710.122 185.153C709.808 184.975 709.442 184.887 709.025 184.887C708.608 184.887 708.242 184.975 707.928 185.153C707.613 185.331 707.367 185.587 707.189 185.922C707.019 186.25 706.933 186.643 706.933 187.101C706.933 187.553 707.019 187.942 707.189 188.27C707.367 188.599 707.613 188.851 707.928 189.029C708.249 189.2 708.622 189.286 709.045 189.286C709.469 189.286 709.835 189.2 710.143 189.029C710.457 188.851 710.696 188.599 710.86 188.27C711.031 187.942 711.117 187.553 711.117 187.101ZM713.772 180.416C713.772 181.175 713.571 181.848 713.167 182.436C712.764 183.017 712.204 183.472 711.486 183.8C710.775 184.128 709.961 184.292 709.045 184.292C708.123 184.292 707.302 184.128 706.584 183.8C705.867 183.472 705.306 183.017 704.903 182.436C704.5 181.848 704.298 181.175 704.298 180.416C704.298 179.514 704.5 178.755 704.903 178.14C705.313 177.517 705.874 177.046 706.584 176.724C707.302 176.403 708.116 176.243 709.025 176.243C709.948 176.243 710.765 176.403 711.476 176.724C712.193 177.046 712.754 177.517 713.157 178.14C713.567 178.755 713.772 179.514 713.772 180.416ZM710.819 180.549C710.819 180.146 710.748 179.797 710.604 179.503C710.46 179.203 710.255 178.97 709.989 178.806C709.729 178.642 709.408 178.56 709.025 178.56C708.656 178.56 708.338 178.639 708.071 178.796C707.812 178.953 707.61 179.182 707.466 179.483C707.33 179.777 707.261 180.132 707.261 180.549C707.261 180.953 707.33 181.308 707.466 181.616C707.61 181.916 707.815 182.152 708.082 182.323C708.348 182.494 708.669 182.579 709.045 182.579C709.421 182.579 709.739 182.494 709.999 182.323C710.266 182.152 710.467 181.916 710.604 181.616C710.748 181.308 710.819 180.953 710.819 180.549Z"
      fill="#FABE00"/>
    <path
      d="M669.774 343.808H670.205V346.167H670.03C669.251 346.167 668.557 346.283 667.949 346.515C667.34 346.748 666.824 347.079 666.4 347.51C665.983 347.934 665.662 348.447 665.437 349.048C665.218 349.65 665.108 350.323 665.108 351.068V353.55C665.108 354.083 665.16 354.554 665.262 354.965C665.372 355.368 665.525 355.706 665.724 355.98C665.929 356.246 666.168 356.448 666.441 356.585C666.715 356.715 667.022 356.78 667.364 356.78C667.686 356.78 667.976 356.711 668.236 356.574C668.502 356.438 668.728 356.246 668.913 356C669.104 355.747 669.248 355.453 669.343 355.118C669.446 354.777 669.497 354.404 669.497 354.001C669.497 353.597 669.446 353.225 669.343 352.883C669.248 352.541 669.104 352.247 668.913 352.001C668.721 351.748 668.489 351.553 668.215 351.417C667.942 351.28 667.634 351.212 667.292 351.212C666.828 351.212 666.417 351.321 666.062 351.54C665.713 351.752 665.44 352.025 665.242 352.36C665.043 352.695 664.938 353.047 664.924 353.416L664.032 352.842C664.052 352.316 664.162 351.817 664.36 351.345C664.565 350.873 664.845 350.456 665.201 350.094C665.563 349.725 665.997 349.438 666.503 349.233C667.009 349.021 667.58 348.915 668.215 348.915C668.913 348.915 669.524 349.048 670.051 349.315C670.584 349.581 671.028 349.947 671.384 350.412C671.739 350.877 672.006 351.413 672.184 352.022C672.361 352.63 672.45 353.28 672.45 353.97C672.45 354.695 672.331 355.368 672.091 355.99C671.859 356.612 671.521 357.156 671.076 357.62C670.639 358.085 670.112 358.448 669.497 358.707C668.882 358.967 668.191 359.097 667.426 359.097C666.633 359.097 665.912 358.953 665.262 358.666C664.62 358.372 664.066 357.962 663.601 357.436C663.136 356.909 662.777 356.284 662.524 355.559C662.278 354.835 662.155 354.042 662.155 353.18V352.032C662.155 350.829 662.33 349.728 662.678 348.73C663.034 347.725 663.543 346.857 664.206 346.126C664.869 345.387 665.669 344.817 666.605 344.413C667.542 344.01 668.598 343.808 669.774 343.808Z"
      fill="#FABE00"/>
    <path
      d="M332.765 28H335.912L338.813 18.0146H338.933L341.841 28H344.988L349.358 12.7273H345.831L343.303 23.3615H343.168L340.387 12.7273H337.366L334.577 23.3391H334.451L331.923 12.7273H328.395L332.765 28ZM363.7 18.0742C363.275 14.5469 360.606 12.5185 357.071 12.5185C353.036 12.5185 349.956 15.3672 349.956 20.3636C349.956 25.3452 352.984 28.2088 357.071 28.2088C360.986 28.2088 363.35 25.6062 363.7 22.7947L360.434 22.7798C360.128 24.413 358.846 25.3526 357.123 25.3526C354.804 25.3526 353.23 23.63 353.23 20.3636C353.23 17.1868 354.781 15.3746 357.145 15.3746C358.913 15.3746 360.188 16.3963 360.434 18.0742H363.7Z"
      fill="#CCCCCC"/>
    <path
      d="M332.765 124H335.912L338.813 114.015H338.933L341.841 124H344.988L349.358 108.727H345.831L343.303 119.362H343.168L340.387 108.727H337.366L334.577 119.339H334.451L331.923 108.727H328.395L332.765 124ZM363.7 114.074C363.275 110.547 360.606 108.518 357.071 108.518C353.036 108.518 349.956 111.367 349.956 116.364C349.956 121.345 352.984 124.209 357.071 124.209C360.986 124.209 363.35 121.606 363.7 118.795L360.434 118.78C360.128 120.413 358.846 121.353 357.123 121.353C354.804 121.353 353.23 119.63 353.23 116.364C353.23 113.187 354.781 111.375 357.145 111.375C358.913 111.375 360.188 112.396 360.434 114.074H363.7Z"
      fill="#CCCCCC"/>
    <path
      d="M274.765 28H277.912L280.813 18.0146H280.933L283.841 28H286.988L291.358 12.7273H287.831L285.303 23.3615H285.168L282.387 12.7273H279.366L276.577 23.3391H276.451L273.923 12.7273H270.395L274.765 28ZM305.7 18.0742C305.275 14.5469 302.606 12.5185 299.071 12.5185C295.036 12.5185 291.956 15.3672 291.956 20.3636C291.956 25.3452 294.984 28.2088 299.071 28.2088C302.986 28.2088 305.35 25.6062 305.7 22.7947L302.434 22.7798C302.128 24.413 300.846 25.3526 299.123 25.3526C296.804 25.3526 295.23 23.63 295.23 20.3636C295.23 17.1868 296.781 15.3746 299.145 15.3746C300.913 15.3746 302.188 16.3963 302.434 18.0742H305.7Z"
      fill="#CCCCCC"/>
    <rect x="425" y="659" width="24" height="24" rx="8" fill="#FABE00"/>
    <rect x="430.5" y="668.417" width="13" height="6.29167" stroke="#233255"/>
    <path d="M432.917 668.354V666.848L434.764 665H441.097V668.354" stroke="#233255"
          stroke-miterlimit="10"/>
    <path d="M434.667 676.375H439.333" stroke="#233255" stroke-miterlimit="10"/>
    <path d="M441.097 674.771V678.125H432.917L432.917 674.771" stroke="#233255" stroke-miterlimit="10"/>
    <path d="M441.091 678.125H439.782L441.107 676.799L441.091 678.125Z" fill="#233255"/>
    <path d="M440.948 669.958L439.917 670.99L440.948 672.021L441.979 670.99L440.948 669.958Z"
          fill="#233255"/>
    <rect x="489" y="10" width="24" height="24" rx="8" fill="#E62D32"/>
    <path d="M496.622 15L496.622 21.124L496.622 29.5946" stroke="white"/>
    <path d="M505.378 15L505.378 21.124L505.378 29.5946" stroke="white"/>
    <path d="M501.162 15L501.162 23.1081" stroke="white"/>
    <path
      d="M497.743 15V19.8649H498.743V15H497.743ZM495.5 19.8649V15H494.5V19.8649H495.5ZM496.622 20.9865C496.002 20.9865 495.5 20.4843 495.5 19.8649H494.5C494.5 21.0366 495.45 21.9865 496.622 21.9865V20.9865ZM497.743 19.8649C497.743 20.4843 497.241 20.9865 496.622 20.9865V21.9865C497.793 21.9865 498.743 21.0366 498.743 19.8649H497.743Z"
      fill="white"/>
    <path
      d="M506.5 16.9458V19.8648H507.5V16.9458H506.5ZM505.878 21.4864V15.3242L504.878 15.3242V21.4864H505.878ZM506.5 19.8648C506.5 20.4842 505.998 20.9864 505.378 20.9864V21.9864C506.55 21.9864 507.5 21.0365 507.5 19.8648H506.5ZM507.5 16.9458C507.5 15.7741 506.55 14.8242 505.378 14.8242V15.8242C505.998 15.8242 506.5 16.3264 506.5 16.9458H507.5Z"
      fill="white"/>
    <rect x="499.541" y="23.1081" width="3.24324" height="6.48649" rx="1.62162" stroke="white"/>
    <path d="M416 31.3375V26.025H422.053V20.4468H427.422V14.6031H433" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M416 18.1094L422.109 12M422.109 12V16.5156M422.109 12H417.594" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M486 560.337V555.025H492.053V549.447H497.422V543.603H503" stroke="#CCCCCC"
          stroke-width="2"/>
    <path d="M486 547.109L492.109 541M492.109 541V545.516M492.109 541H487.594" stroke="#CCCCCC"
          stroke-width="2"/>
    <g v-for="place in places" :key="place.id" :transform="place.coords + 'rotate(-18)'">
      <circle cx="0" cy="0" r="2" fill="rgb(33, 37, 41)" :class="{'takenPlace': !place.userId}"></circle>
      <text x="0" y="0" dx="4" dy="3.5" :data="place.id" :name="`${place.User?place.User.lastName + ' ' + place.User.firstName:''}`" :class="['place', {'takenPlace': !place.userId}]">{{ !place.userId ? 'Свободно ' : `${place.User.lastName} ${place.User.firstName[0]}` }}</text>
    </g>
  </svg>
</template>

<script>
export default {
  name: "KirovMap",
  data() {
    return {
      places: []
    }
  },
  methods: {
    async getPlaces() {
      this.places = await this.$store.dispatch('places/getPlaceByComponent',{city:'Kirov', floor:2});
    }
  },
  mounted() {
    this.getPlaces()
  }
}
</script>

<style lang="scss" scoped>

</style>
